{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/nguye/Documents/GitHub/clips/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/alert/alert.component\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginComponent_app_alert_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\n  }\n}\n\nfunction LoginComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \" Email is invalid \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1, \" Password is invalid \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class LoginComponent {\n  constructor(auth) {\n    this.auth = auth;\n    this.credentials = {\n      email: '',\n      password: ''\n    };\n    this.showAlert = false;\n    this.alertMsg = 'Please wait! We are logging you in.';\n    this.alertColor = 'blue';\n    this.inSubmission = false;\n  }\n\n  ngOnInit() {}\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.showAlert = true;\n      _this.alertMsg = 'Please wait! We are logging you in.';\n      _this.alertColor = 'blue';\n      _this.inSubmission = true;\n\n      try {\n        yield _this.auth.signInWithEmailAndPassword(_this.credentials.email, _this.credentials.password);\n      } catch (e) {\n        _this.inSubmission = false;\n        _this.alertMsg = 'An unexpected error occurred. Please try again later.';\n        _this.alertColor = 'red';\n        console.log(e);\n        return;\n      }\n\n      _this.alertMsg = 'Success! You are now logged in.';\n      _this.alertColor = 'green';\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AngularFireAuth));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 17,\n  vars: 6,\n  consts: [[3, \"color\", 4, \"ngIf\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter Email\", \"required\", \"\", \"pattern\", \"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\", 1, \"block\", \"w-full\", \"py-1.5\", \"px-3\", \"text-gray-200\", \"border\", \"border-gray-400\", \"transition\", \"duration-500\", \"focus:outline-none\", \"rounded\", \"bg-transparent\", \"focus:border-indigo-400\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"class\", \"text-red-400\", 4, \"ngIf\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", \"placeholder\", \"Password\", 1, \"block\", \"w-full\", \"py-1.5\", \"px-3\", \"text-gray-200\", \"border\", \"border-gray-400\", \"transition\", \"duration-500\", \"focus:outline-none\", \"rounded\", \"bg-transparent\", \"focus:border-indigo-400\", 3, \"ngModel\", \"ngModelChange\"], [\"password\", \"ngModel\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"], [1, \"text-red-400\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoginComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"label\", 4);\n      i0.ɵɵtext(5, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.credentials.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, LoginComponent_p_8_Template, 2, 0, \"p\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 4);\n      i0.ɵɵtext(11, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.credentials.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, LoginComponent_p_14_Template, 2, 0, \"p\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 10);\n      i0.ɵɵtext(16, \" Submit \");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n\n      const _r2 = i0.ɵɵreference(7);\n\n      const _r4 = i0.ɵɵreference(13);\n\n      i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.credentials.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r2.errors && _r2.touched && _r2.dirty);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.credentials.password);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r4.errors && _r4.touched && _r4.dirty);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r1.invalid || ctx.inSubmission);\n    }\n  },\n  dependencies: [i2.NgIf, i3.AlertComponent, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.PatternValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAAAA;IACEA;IACFA;;;;;IAF6BA;IAC3BA;IAAAA;;;;;;IAeEA;IACEA;IACFA;;;;;;IAWAA;IACEA;IACFA;;;;ACvBJ,OAAM,MAAOC,cAAP,CAAqB;EAUzBC,YAAoBC,IAApB,EAAyC;IAArB;IATpB,mBAAc;MACZC,KAAK,EAAE,EADK;MAEZC,QAAQ,EAAE;IAFE,CAAd;IAIA,iBAAY,KAAZ;IACA,gBAAW,qCAAX;IACA,kBAAa,MAAb;IACA,oBAAe,KAAf;EAE8C;;EAE9CC,QAAQ,IACP;;EAEKC,KAAK;IAAA;;IAAA;MACT,KAAI,CAACC,SAAL,GAAiB,IAAjB;MACA,KAAI,CAACC,QAAL,GAAgB,qCAAhB;MACA,KAAI,CAACC,UAAL,GAAkB,MAAlB;MACA,KAAI,CAACC,YAAL,GAAoB,IAApB;;MAEA,IAAI;QACF,MAAM,KAAI,CAACR,IAAL,CAAUS,0BAAV,CACJ,KAAI,CAACC,WAAL,CAAiBT,KADb,EACoB,KAAI,CAACS,WAAL,CAAiBR,QADrC,CAAN;MAGD,CAJD,CAIE,OAAMS,CAAN,EAAS;QACT,KAAI,CAACH,YAAL,GAAoB,KAApB;QACA,KAAI,CAACF,QAAL,GAAgB,uDAAhB;QACA,KAAI,CAACC,UAAL,GAAkB,KAAlB;QAEAK,OAAO,CAACC,GAAR,CAAYF,CAAZ;QAEA;MACD;;MAED,KAAI,CAACL,QAAL,GAAgB,iCAAhB;MACA,KAAI,CAACC,UAAL,GAAkB,OAAlB;IArBS;EAsBV;;AArCwB;;;mBAAdT,gBAAcD;AAAA;;;QAAdC;EAAcgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR3BrB;MAKAA;MAA0BA;QAAA,OAAYsB,WAAZ;MAAmB,CAAnB;MAExBtB,+BAAkB,CAAlB,EAAkB,OAAlB,EAAkB,CAAlB;MACmCA;MAAKA;MACtCA;MAC4BA;QAAA;MAAA;MAD5BA;MAOAA;MAGFA;MAEAA,+BAAkB,EAAlB,EAAkB,OAAlB,EAAkB,CAAlB;MACmCA;MAAQA;MACzCA;MACEA;QAAA;MAAA;MADFA;MAMAA;MAGFA;MACAA;MAIEA;MACFA;;;;;;;;;;MAtCUA;MAUoBA;MAAAA;MAMxBA;MAAAA;MAQFA;MAAAA;MAKEA;MAAAA;MAKJA;MAAAA","names":["i0","LoginComponent","constructor","auth","email","password","ngOnInit","login","showAlert","alertMsg","alertColor","inSubmission","signInWithEmailAndPassword","credentials","e","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\nguye\\Documents\\GitHub\\clips\\src\\app\\user\\login\\login.component.html","C:\\Users\\nguye\\Documents\\GitHub\\clips\\src\\app\\user\\login\\login.component.ts"],"sourcesContent":["<app-alert *ngIf=\"showAlert\" [color]=\"alertColor\">\r\n  {{ alertMsg }}\r\n</app-alert>\r\n\r\n<!-- Login Form -->\r\n<form #loginForm=\"ngForm\" (ngSubmit)=\"login()\">\r\n  <!-- Email -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Email</label>\r\n    <input #email=\"ngModel\"\r\n      type=\"email\" name=\"email\" [(ngModel)]=\"credentials.email\"\r\n      class=\"block w-full py-1.5 px-3 text-gray-200 border border-gray-400 transition\r\n        duration-500 focus:outline-none rounded bg-transparent\r\n        focus:border-indigo-400\"\r\n      placeholder=\"Enter Email\" required\r\n      pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\" />\r\n    <p *ngIf=\"email.errors && email.touched && email.dirty\" class=\"text-red-400\">\r\n      Email is invalid\r\n    </p>\r\n  </div>\r\n  <!-- Password -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Password</label>\r\n    <input type=\"password\" name=\"password\" \r\n      [(ngModel)]=\"credentials.password\"\r\n      required #password=\"ngModel\"\r\n      class=\"block w-full py-1.5 px-3 text-gray-200 border border-gray-400 transition\r\n      duration-500 focus:outline-none rounded bg-transparent focus:border-indigo-400\"\r\n      placeholder=\"Password\" />\r\n    <p *ngIf=\"password.errors && password.touched && password.dirty\" class=\"text-red-400\">\r\n      Password is invalid\r\n    </p>\r\n  </div>\r\n  <button type=\"submit\" \r\n    [disabled]=\"loginForm.invalid || inSubmission\"\r\n    class=\"block w-full bg-indigo-400 text-white py-1.5 px-3 rounded transition\r\n      hover:bg-indigo-500 disabled:opacity-50 disabled:bg-indigo-400\">\r\n    Submit\r\n  </button>\r\n</form>","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  credentials = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n  showAlert = false\r\n  alertMsg = 'Please wait! We are logging you in.'\r\n  alertColor = 'blue'\r\n  inSubmission = false\r\n\r\n  constructor(private auth: AngularFireAuth) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async login() {\r\n    this.showAlert = true\r\n    this.alertMsg = 'Please wait! We are logging you in.'\r\n    this.alertColor = 'blue'\r\n    this.inSubmission = true\r\n\r\n    try {\r\n      await this.auth.signInWithEmailAndPassword(\r\n        this.credentials.email, this.credentials.password\r\n      )\r\n    } catch(e) {\r\n      this.inSubmission = false\r\n      this.alertMsg = 'An unexpected error occurred. Please try again later.'\r\n      this.alertColor = 'red'\r\n\r\n      console.log(e)\r\n\r\n      return \r\n    }\r\n\r\n    this.alertMsg = 'Success! You are now logged in.'\r\n    this.alertColor = 'green'\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}