{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/nguye/Documents/GitHub/clips/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { RegisterValidators } from '../validators/register-validators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"../validators/email-taken\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/input/input.component\";\nimport * as i5 from \"../../shared/alert/alert.component\";\nimport * as i6 from \"@angular/forms\";\n\nfunction RegisterComponent_app_alert_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\n  }\n}\n\nexport class RegisterComponent {\n  constructor(auth, emailTaken) {\n    this.auth = auth;\n    this.emailTaken = emailTaken;\n    this.inSubmission = false;\n    this.name = new FormControl('', [Validators.required, Validators.minLength(3)]);\n    this.email = new FormControl('', [Validators.required, Validators.email], [this.emailTaken.validate]);\n    this.age = new FormControl('', [Validators.required, Validators.min(18), Validators.max(120)]);\n    this.password = new FormControl('', [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]);\n    this.confirm_password = new FormControl('', [Validators.required]);\n    this.phoneNumber = new FormControl('', [Validators.required, Validators.minLength(13), Validators.maxLength(13)]);\n    this.showAlert = false;\n    this.alertMsg = 'Please wait! Your account is being created.';\n    this.alertColor = 'blue';\n    this.registerForm = new FormGroup({\n      name: this.name,\n      email: this.email,\n      age: this.age,\n      password: this.password,\n      confirm_password: this.confirm_password,\n      phoneNumber: this.phoneNumber\n    }, [RegisterValidators.match('password', 'confirm_password')]);\n  }\n\n  register() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.showAlert = true;\n      _this.alertMsg = 'Please wait! Your account is being created.';\n      _this.alertColor = 'blue';\n      _this.inSubmission = true;\n\n      try {\n        yield _this.auth.createUser(_this.registerForm.value);\n      } catch (e) {\n        console.error(e);\n        _this.alertMsg = 'An unexpected error occurred. Please try again later';\n        _this.alertColor = 'red';\n        _this.inSubmission = false;\n        return;\n      }\n\n      _this.alertMsg = 'Success! Your account has been created.';\n      _this.alertColor = 'green';\n    })();\n  }\n\n}\n\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.EmailTaken));\n};\n\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 28,\n  vars: 9,\n  consts: [[3, \"color\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"placeholder\", \"Enter Name\", 3, \"control\"], [\"type\", \"email\", \"placeholder\", \"Enter Email\", 3, \"control\"], [\"type\", \"number\", \"placeholder\", \"Enter Age\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Enter Password\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Confirm Password\", 3, \"control\"], [\"format\", \"(000)000-0000\", \"placeholder\", \"Enter Phone Number\", 3, \"control\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RegisterComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n      i0.ɵɵtext(4, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"app-input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"app-input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"app-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"app-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 2)(19, \"label\", 3);\n      i0.ɵɵtext(20, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"app-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 2)(23, \"label\", 3);\n      i0.ɵɵtext(24, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"app-input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 10);\n      i0.ɵɵtext(27, \" Submit \");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.age);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.confirm_password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.phoneNumber);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.inSubmission);\n    }\n  },\n  dependencies: [i3.NgIf, i4.InputComponent, i5.AlertComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","FormControl","Validators","RegisterValidators","i0","RegisterComponent","constructor","auth","emailTaken","required","minLength","email","validate","min","max","pattern","maxLength","name","age","password","confirm_password","phoneNumber","match","register","showAlert","alertMsg","alertColor","inSubmission","createUser","registerForm","value","e","console","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\nguye\\Documents\\GitHub\\clips\\src\\app\\user\\register\\register.component.ts","C:\\Users\\nguye\\Documents\\GitHub\\clips\\src\\app\\user\\register\\register.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport IUser from 'src/app/models/user.model';\r\nimport { RegisterValidators } from '../validators/register-validators';\r\nimport { EmailTaken } from '../validators/email-taken';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css'],\r\n})\r\nexport class RegisterComponent {\r\n  constructor(private auth: AuthService, private emailTaken: EmailTaken) {}\r\n\r\n  inSubmission = false;\r\n\r\n  name = new FormControl('', [Validators.required, Validators.minLength(3)]);\r\n  email = new FormControl('', [Validators.required, Validators.email], [this.emailTaken.validate]);\r\n  age = new FormControl('', [\r\n    Validators.required,\r\n    Validators.min(18),\r\n    Validators.max(120),\r\n  ]);\r\n  password = new FormControl('', [\r\n    Validators.required,\r\n    Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm),\r\n  ]);\r\n  confirm_password = new FormControl('', [Validators.required]);\r\n  phoneNumber = new FormControl('', [\r\n    Validators.required,\r\n    Validators.minLength(13),\r\n    Validators.maxLength(13),\r\n  ]);\r\n  showAlert = false;\r\n  alertMsg = 'Please wait! Your account is being created.';\r\n  alertColor = 'blue';\r\n\r\n  registerForm = new FormGroup(\r\n    {\r\n      name: this.name,\r\n      email: this.email,\r\n      age: this.age,\r\n      password: this.password,\r\n      confirm_password: this.confirm_password,\r\n      phoneNumber: this.phoneNumber,\r\n    },\r\n    [RegisterValidators.match('password', 'confirm_password')]\r\n  );\r\n\r\n  async register() {\r\n    this.showAlert = true;\r\n    this.alertMsg = 'Please wait! Your account is being created.';\r\n    this.alertColor = 'blue';\r\n    this.inSubmission = true;\r\n\r\n    try {\r\n      await this.auth.createUser(this.registerForm.value as IUser);\r\n    } catch (e) {\r\n      console.error(e);\r\n\r\n      this.alertMsg = 'An unexpected error occurred. Please try again later';\r\n      this.alertColor = 'red';\r\n      this.inSubmission = false;\r\n      return;\r\n    }\r\n\r\n    this.alertMsg = 'Success! Your account has been created.';\r\n    this.alertColor = 'green';\r\n  }\r\n}\r\n","<app-alert *ngIf=\"showAlert\" [color]=\"alertColor\">\r\n  {{ alertMsg }}\r\n</app-alert>\r\n\r\n<!-- Registration Form -->\r\n<form [formGroup]=\"registerForm\" (ngSubmit)=\"register()\">\r\n  <!-- Name -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Name</label>\r\n    <app-input [control]=\"name\" placeholder=\"Enter Name\"></app-input>\r\n  </div>\r\n  <!-- Email -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Email</label>\r\n    <app-input\r\n      [control]=\"email\"\r\n      type=\"email\"\r\n      placeholder=\"Enter Email\"\r\n    ></app-input>\r\n  </div>\r\n  <!-- Age -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Age</label>\r\n    <app-input\r\n      [control]=\"age\"\r\n      type=\"number\"\r\n      placeholder=\"Enter Age\"\r\n    ></app-input>\r\n  </div>\r\n  <!-- Password -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Password</label>\r\n    <app-input\r\n      [control]=\"password\"\r\n      type=\"password\"\r\n      placeholder=\"Enter Password\"\r\n    ></app-input>\r\n  </div>\r\n  <!-- Confirm Password -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Confirm Password</label>\r\n    <app-input\r\n      [control]=\"confirm_password\"\r\n      type=\"password\"\r\n      placeholder=\"Confirm Password\"\r\n    ></app-input>\r\n  </div>\r\n  <!-- Phone Number -->\r\n  <div class=\"mb-3\">\r\n    <label class=\"inline-block mb-2\">Phone Number</label>\r\n    <app-input\r\n      [control]=\"phoneNumber\"\r\n      format=\"(000)000-0000\"\r\n      placeholder=\"Enter Phone Number\"\r\n    ></app-input>\r\n  </div>\r\n  <button\r\n    type=\"submit\"\r\n    class=\"block w-full bg-indigo-400 text-white py-1.5 px-3 rounded transition hover:bg-indigo-500 disabled:opacity-50 disabled:bg-indigo-400\"\r\n    [disabled]=\"registerForm.invalid || inSubmission\"\r\n  >\r\n    Submit\r\n  </button>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module"}